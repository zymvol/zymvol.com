import{g as E,o as s,c,a as _,H as l,K as k,u as n,J as u,t as L,b as p,Y as h,l as y,m as M,h as R}from"./js/runtime-dom.esm-bundler.c4caba60.js";import{c as $,b as V}from"./js/vue-router.8d7f8ad9.js";import{e as C,l as P}from"./js/index.7c01c5f2.js";import{l as x}from"./js/index.f3c7a985.js";import{e as f,x as j,l as A,K as q}from"./js/index.21ff19c6.js";import{d as g,c as F}from"./js/Caret.cc16468c.js";import{q as T,m as U,j as W}from"./js/SchemaStore.e1c60a5d.js";import{i as N}from"./js/isEqual.34cebf90.js";import"./js/translations.d159963e.js";import{l as O}from"./js/index.d80c2c2c.js";import{_ as z}from"./js/default-i18n.20001971.js";import{M as H}from"./js/Modal.bfa2fcb2.js";import{_ as I}from"./js/ScoreButton.cad549af.js";import{S as w}from"./js/LogoGear.a15cc3e7.js";import"./js/_plugin-vue_export-helper.eefbdd86.js";import"./js/helpers.a0b389be.js";import"./js/metabox.c14c3439.js";import"./js/cleanForSlug.cacc99d0.js";import"./js/toString.1e64e8a6.js";import"./js/contentHasAssets.e1428256.js";import"./js/_baseSet.ca702273.js";import"./js/regex.8a6101c0.js";import"./js/_baseIsEqual.e5574158.js";import"./js/_getTag.69d3a807.js";import"./js/App.2e444517.js";/* empty css                */import"./js/ScrollAndHighlight.79421688.js";import"./js/ScrollTo.81bea8a7.js";import"./js/params.af7ed354.js";import"./js/LicenseKeyBar.46760d8a.js";import"./js/allowed.de48db46.js";import"./js/constants.fe8bda37.js";import"./js/Index.1a44e730.js";import"./js/SettingsRow.e76e5dcb.js";import"./js/Row.d49feaf0.js";import"./js/Checkbox.475ec1e7.js";import"./js/Checkmark.34fb32e2.js";import"./js/Url.58e6efcb.js";import"./js/Cta.a1725b88.js";import"./js/datetime.f197aeae.js";import"./js/Tooltip.e12834fc.js";import"./js/CheckSolid.b3bb7c27.js";import"./js/popup.92105c51.js";import"./js/Index.e357517d.js";import"./js/stripHTMLTags.82cef782.js";import"./js/toNumber.89dbadc6.js";import"./js/_arrayEach.6af5abac.js";import"./js/Plus.5c071d29.js";import"./js/HighlightToggle.b35beb2c.js";import"./js/Radio.6135ef18.js";import"./js/Tabs.646b9550.js";import"./js/ProBadge.6c04ecdd.js";import"./js/Information.efebd14c.js";import"./js/Slide.9bb3b45e.js";import"./js/debounce.f2bce338.js";import"./js/Blur.63f260fa.js";import"./js/MaxCounts.7c38e980.js";import"./js/Ellipse.e9a0e19f.js";import"./js/Eye.27b6685e.js";import"./js/TruSeoScore.ba6ffe27.js";import"./js/Statistics.eaa47ad3.js";import"./js/RadioToggle.24417291.js";import"./js/GoogleSearchPreview.bb846430.js";import"./js/HtmlTagsEditor.481c71d7.js";import"./js/Editor.9bd1daf6.js";import"./js/_baseClone.b312b692.js";import"./js/UnfilteredHtml.765c4abc.js";import"./js/ConnectStore.6172826b.js";import"./js/SetupWizardStore.2f8477b8.js";import"./js/license.9ca44136.js";import"./js/upperFirst.9d3c89a3.js";import"./js/Mobile.60558a0a.js";import"./js/Settings.588a61ca.js";import"./js/TableOfContentsStore.8b6d8c3b.js";import"./js/Cta.bce043d1.js";import"./js/GoogleSearchConsole.33c9b38b.js";import"./js/ConnectCta.6c0c8c43.js";import"./js/Graph.7e48de54.js";import"./js/numbers.9fc174f3.js";import"./js/vue3-apexcharts.e308a86b.js";import"./js/WpTable.f4c596ba.js";import"./js/Table.75b83b5a.js";import"./js/Download.f06882d0.js";import"./js/RequiredPlans.b4401e93.js";import"./js/addons.c91345f3.js";import"./js/PostTypes.dafa8837.js";import"./js/External.8dc923a2.js";import"./js/InternalOutbound.19042b04.js";import"./js/Image.c5643a3f.js";import"./js/FacebookPreview.9a08ef13.js";import"./js/Img.c1967fde.js";import"./js/Profile.a09acebd.js";import"./js/ImageUploader.236c7cbc.js";import"./js/TwitterPreview.c4a76d77.js";import"./js/Book.e03567fe.js";import"./js/Build.7b0c3f4c.js";import"./js/Redirects.442916a0.js";import"./js/Index.4d03f318.js";import"./js/JsonValues.3fcfec97.js";import"./js/External.6e60bbfb.js";import"./js/escapeRegExp.8deca77d.js";import"./js/Exclamation.2ee51cca.js";import"./js/Gear.2f512b03.js";import"./js/date.b84c8300.js";import"./js/DatePicker.2fe181f7.js";import"./js/Calendar.322e89db.js";import"./js/pick.f3b96ebd.js";import"./js/Card.ca14447d.js";import"./js/Upsell.b3c9439f.js";let b={};const K=()=>{const o={...b},t=T();N(o,t)||(b=t,U())},G=()=>{const o=f();o.saveCurrentPost(o.currentPost).then(()=>{j().fetch()})},J=()=>{var e;const{vc:o,vc_mode:t}=window;return t==="admin_frontend_editor"?o.builder.getContent():((e=document.querySelector("#content"))==null?void 0:e.value)||""},d=async()=>{f().processContent({content:J()}).finally(()=>{K()})},Q=({vc:o})=>{d(),o.events.on("shortcodeView:updated",()=>{g(d,1e3)}),o.shortcodes.on("sync",()=>{g(d,1e3)}),document.querySelectorAll("#vc_button-update, #vc_button-save-draft, #vc_button-save-as-pending").forEach(t=>{t.addEventListener("click",G)})},Y={class:"aioseo-limit-modified-date-wpbakery"},X={key:0,class:"aioseo-limit-modified-date-wpbakery__options"},Z={__name:"App",props:{buttonTitle:String,buttonEvent:String},setup(o){const t=E(!1),e=o,a=()=>{t.value=!1,C.emit(e.buttonEvent)};return(i,m)=>(s(),c("div",Y,[_("div",{class:"aioseo-limit-modified-date-wpbakery__toggle",onClick:m[0]||(m[0]=u(at=>t.value=!t.value,["prevent"]))},[l(n(F),{class:k({rotated:t.value})},null,8,["class"])]),t.value?(s(),c("div",X,[_("div",{class:"aioseo-limit-modified-date-wpbakery__option",onClick:u(a,["prevent"])},L(e.buttonTitle),1)])):p("",!0)]))}},r={id:"aioseo-limit-modified-date-wpbakery",param:"aioseo_limit_modified_date",event:"save-limit-modified-date",title:z("Update (Don't Modify Date)","all-in-one-seo-pack"),flag:!1},v=()=>document.getElementById("vc_button-update"),tt=()=>{if(document.getElementById(r.id))return;const o=document.createElement("div");o.id=r.id,v().insertAdjacentElement("afterend",o);let t=h({...Z,name:"Standalone/WPBakery/LimitModifiedDate"},{buttonTitle:r.title,buttonEvent:r.event});t=P(t),t=x(t),t=O(t),A(t),t.mount(`#${r.id}`)},ot=o=>{o(document).on("ajaxSend",function(t,e,a){const i=new URLSearchParams(a.data);i.get("action")!=="vc_save"||!r.flag||(i.set(r.param,!0),a.data=i.toString())}),C.on(r.event,()=>{r.flag=!0,v().click(),setTimeout(()=>{r.flag=!1})})},et=({jQuery:o})=>{v()&&(tt(),ot(o))},rt={class:"aioseo-wpbakery-integration"},it={key:2,class:"aioseo-gear-icon"},S={__name:"App",props:{isFrontendEditor:Boolean},setup(o){const t=E(!1),{currentPost:e}=q(f());return(a,i)=>(s(),c("div",rt,[o.isFrontendEditor?(s(),y(n(I),{key:0,"show-score":n(W)(),score:n(e).seo_score,class:k([t.value?"aioseo-score-button--active":""]),onClick:i[0]||(i[0]=u(m=>t.value=!t.value,["prevent"]))},{icon:M(()=>[l(n(w))]),_:1},8,["show-score","score","class"])):p("",!0),o.isFrontendEditor?(s(),y(n(H),{key:1,score:n(e).seo_score,"is-open":t.value,"onUpdate:isOpen":i[1]||(i[1]=m=>t.value=m)},null,8,["score","is-open"])):p("",!0),o.isFrontendEditor?p("",!0):(s(),c("div",it,[l(n(w))]))]))}},{vc:nt}=window,st=()=>{const{vc_mode:o}=window,t=$({history:V(),routes:[{path:"/",component:S}]});let e=h({name:"Standalone/WPBakery",data(){return{tableContext:window.aioseo.currentPost.context,screenContext:"sidebar"}},render:()=>R(S)},{isFrontendEditor:o==="admin_frontend_editor"});e=P(e),e=x(e),e.use(t),t.app=e,A(e,t),e.mount("#aioseo-wpbakery")},B=()=>{st(),Q(window),et(window)};let D=!1;nt.events.on("app.render",()=>{B(),D=!0});window.addEventListener("load",()=>{D||B()});
