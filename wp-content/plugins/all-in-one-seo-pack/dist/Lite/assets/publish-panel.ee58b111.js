import{x as P,o as c,c as l,a as n,G as W,N as Z,l as j,K as U,v as G,y as z,t as m,H as b,b as f,Y as de}from"./js/runtime-dom.esm-bundler.c4caba60.js";import{l as ue}from"./js/index.7c01c5f2.js";import{l as pe}from"./js/index.f3c7a985.js";import{l as me}from"./js/index.d80c2c2c.js";import{c as ge,e as he,I as fe,m as _e,F as H,i as ve,l as Y,u as Se}from"./js/index.21ff19c6.js";import{a as be}from"./js/allowed.de48db46.js";import{a as ye,j as Pe}from"./js/SchemaStore.e1c60a5d.js";import{v as we}from"./js/helpers.a0b389be.js";import{u as xe}from"./js/Image.c5643a3f.js";import{C as Ee}from"./js/GoogleSearchPreview.bb846430.js";import{a as ke,S as Ae,f as Ce}from"./js/Caret.cc16468c.js";import{S as Te}from"./js/Exclamation.2ee51cca.js";import{S as Re}from"./js/External.6e60bbfb.js";import"./js/translations.d159963e.js";import{_}from"./js/_plugin-vue_export-helper.eefbdd86.js";import{_ as r,s as Ie,a as Oe}from"./js/default-i18n.20001971.js";import{S as Me}from"./js/Twitter.9c675813.js";import{s as Ue}from"./js/metabox.c14c3439.js";import{l as ze}from"./js/loadTruSeo.d7514905.js";import{e as Le}from"./js/elemLoaded.2921fc72.js";import{t as q}from"./js/toString.1e64e8a6.js";import{u as Ve}from"./js/upperFirst.9d3c89a3.js";import{d as De}from"./js/cleanForSlug.cacc99d0.js";import"./js/contentHasAssets.e1428256.js";import"./js/_baseSet.ca702273.js";import"./js/regex.8a6101c0.js";import"./js/constants.fe8bda37.js";import"./js/Url.58e6efcb.js";function $e(e){return Ve(q(e).toLowerCase())}function Ne(e,t,o,s){for(var a=-1,p=e==null?0:e.length;++a<p;)o=t(o,e[a],a,e);return o}var Be=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function Fe(e){return e.match(Be)||[]}var Ke=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function We(e){return Ke.test(e)}var J="\\ud800-\\udfff",Ze="\\u0300-\\u036f",je="\\ufe20-\\ufe2f",Ge="\\u20d0-\\u20ff",He=Ze+je+Ge,Q="\\u2700-\\u27bf",X="a-z\\xdf-\\xf6\\xf8-\\xff",Ye="\\xac\\xb1\\xd7\\xf7",qe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Je="\\u2000-\\u206f",Qe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ee="A-Z\\xc0-\\xd6\\xd8-\\xde",Xe="\\ufe0e\\ufe0f",te=Ye+qe+Je+Qe,oe="['’]",L="["+te+"]",et="["+He+"]",se="\\d+",tt="["+Q+"]",re="["+X+"]",ne="[^"+J+te+se+Q+X+ee+"]",ot="\\ud83c[\\udffb-\\udfff]",st="(?:"+et+"|"+ot+")",rt="[^"+J+"]",ie="(?:\\ud83c[\\udde6-\\uddff]){2}",ae="[\\ud800-\\udbff][\\udc00-\\udfff]",h="["+ee+"]",nt="\\u200d",V="(?:"+re+"|"+ne+")",it="(?:"+h+"|"+ne+")",D="(?:"+oe+"(?:d|ll|m|re|s|t|ve))?",$="(?:"+oe+"(?:D|LL|M|RE|S|T|VE))?",ce=st+"?",le="["+Xe+"]?",at="(?:"+nt+"(?:"+[rt,ie,ae].join("|")+")"+le+ce+")*",ct="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",dt=le+ce+at,ut="(?:"+[tt,ie,ae].join("|")+")"+dt,pt=RegExp([h+"?"+re+"+"+D+"(?="+[L,h,"$"].join("|")+")",it+"+"+$+"(?="+[L,h+V,"$"].join("|")+")",h+"?"+V+"+"+D,h+"+"+$,lt,ct,se,ut].join("|"),"g");function mt(e){return e.match(pt)||[]}function gt(e,t,o){return e=q(e),t=t,t===void 0?We(e)?mt(e):Fe(e):e.match(t)||[]}var ht="['’]",ft=RegExp(ht,"g");function _t(e){return function(t){return Ne(gt(De(t).replace(ft,"")),e,"")}}var N=_t(function(e,t,o){return t=t.toLowerCase(),e+(o?$e(t):t)});const i="all-in-one-seo-pack",vt={setup(){const{imageUrl:e,setImageUrl:t}=xe(),{parseTags:o}=ye({separator:void 0});return{imageUrl:e,optionsStore:ge(),parseTags:o,postEditorStore:he(),sanitizeUrl:fe,setImageUrl:t,settingsStore:_e(),tagsStore:H()}},components:{CoreGoogleSearchPreview:Ee,SvgCircleCheck:ke,SvgCircleClose:Ae,SvgCircleExclamation:Te,SvgExternal:Re,SvgPencil:Ce},data(){return{allowed:be,socialImage:null,socialImageKey:0,strings:{serpPreview:r("SERP Preview",i),canonicalUrl:r("Canonical URL",i)}}},computed:{tips(){let e=[{label:r("Visibility",i),name:"visibility",access:"aioseo_page_advanced_settings"},{label:r("SEO Analysis",i),name:"seoAnalysis",access:"aioseo_page_analysis"},{label:r("Readability",i),name:"readabilityAnalysis",access:"aioseo_page_analysis"},{label:r("Focus Keyword",i),name:"focusKeyphrase",access:"aioseo_page_analysis"},{label:r("Social",i),name:"social",access:"aioseo_page_social_settings"}].filter(t=>this.allowed(t.access)&&(t.access!=="aioseo_page_analysis"||Pe()));return!this.optionsStore.options.social.facebook.general.enable&&!this.optionsStore.options.social.twitter.general.enable&&(e=e.filter(t=>t.name!=="social")),e.forEach((t,o)=>{e[o]={...t,...this.getData(t.name)}}),e},canImprove(){return this.tips.some(e=>e.type==="error")}},methods:{getIcon(e){switch(e){case"error":return"svg-circle-close";case"warning":return"svg-circle-exclamation";case"success":default:return"svg-circle-check"}},getData(e){const t={};if(e==="visibility"&&(t.value=r("Good!",i),t.type="success",(this.postEditorStore.currentPost.default?this.optionsStore.dynamicOptions.searchAppearance.postTypes[this.postEditorStore.currentPost.postType]&&!this.optionsStore.dynamicOptions.searchAppearance.postTypes[this.postEditorStore.currentPost.postType].advanced.robotsMeta.default&&this.optionsStore.dynamicOptions.searchAppearance.postTypes[this.postEditorStore.currentPost.postType].advanced.robotsMeta.noindex:this.postEditorStore.currentPost.noindex)&&(t.value=r("Blocked!",i),t.type="error")),e==="seoAnalysis"){t.value=r("N/A",i),t.type="error";const o=this.postEditorStore.currentPost.seo_score;Number.isInteger(o)&&(t.value=o+"/100",t.type=79<o?"success":49<o?"warning":"error")}if(e==="readabilityAnalysis"){t.value=r("Good!",i),t.type="success";const o=this.postEditorStore.currentPost.page_analysis.analysis.readability.errors;o&&0<o&&(t.value=Ie(Oe("%1$s error found!","%1$s errors found!",o,i),o),t.type="error")}if(e==="focusKeyphrase"){t.value=r("No Focus Keyword!",i),t.type="error";const o=this.postEditorStore.currentPost.keyphrases.focus;o&&o.keyphrase&&(t.value=o.score+"/100",t.type=79<o.score?"success":49<o.score?"warning":"error")}if(e==="social"){t.value=r("Good!",i),t.type="success",this.socialImageKey;const o=this.parseTags(this.postEditorStore.currentPost.og_title||this.postEditorStore.currentPost.title||this.postEditorStore.currentPost.tags.title).trim(),s=this.parseTags(this.postEditorStore.currentPost.og_description||this.postEditorStore.currentPost.description||this.postEditorStore.currentPost.tags.description).trim(),a=this.socialImage;(!o||!s||!a)&&(t.value=r("Missing social markup!",i),t.type="error")}return{...t,icon:this.getIcon(t.type)}},openSidebar(e){const{openGeneralSidebar:t}=window.wp.data.dispatch("core/edit-post"),{closePublishSidebar:o}=window.wp.data.dispatch(we(window.aioseo.wpVersion,"6.6","<")?"core/edit-post":"core/editor");o(),t("aioseo-post-settings-sidebar/aioseo-post-settings-sidebar");const s={};switch(e){case"canonical":case"visibility":s.tab="advanced";break;case"seoAnalysis":s.tab="general",s.card="basicseo";break;case"readabilityAnalysis":s.tab="general",s.card="readability";break;case"focusKeyphrase":s.tab="general",s.card="focus";break;case"social":s.tab="social";break}this.settingsStore.changeTabSettings({setting:"mainSidebar",value:s})}},async mounted(){await this.setImageUrl().then(()=>{this.socialImage=this.imageUrl}),window.aioseoBus.$on("updateSocialImagePreview",e=>{this.socialImage=e.image,this.socialImageKey++}),this.$nextTick(()=>{const e=document.querySelector(".aioseo-pre-publish .editor-post-publish-panel__link");e&&(e.innerHTML=this.canImprove?r("Your post needs improvement!",i):r("You're good to go!",i))})}},St={key:0,class:"seo-overview"},bt={class:"pre-publish-checklist"},yt={class:"icon"},Pt=["onClick"],wt={key:0,class:"snippet-preview"},xt={class:"title"},Et={key:1,class:"canonical-url"},kt={class:"title"},At=["href"];function Ct(e,t,o,s,a,p){const u=P("svg-pencil"),g=P("core-google-search-preview"),v=P("svg-external");return s.postEditorStore.currentPost.id?(c(),l("div",St,[n("ul",bt,[(c(!0),l(W,null,Z(p.tips,(d,S)=>(c(),l("li",{key:S},[n("span",yt,[(c(),j(G(d.icon),{class:U(d.type)},null,8,["class"]))]),n("span",null,[z(m(d.label)+": ",1),n("span",{class:U(["result",d.value.endsWith("/100")?d.type:null])},m(d.value),3)]),s.optionsStore.dynamicOptions.searchAppearance.postTypes[s.postEditorStore.currentPost.postType]&&s.optionsStore.dynamicOptions.searchAppearance.postTypes[s.postEditorStore.currentPost.postType].advanced.showMetaBox?(c(),l("span",{key:0,class:"edit",onClick:y=>p.openSidebar(d.name)},[b(u)],8,Pt)):f("",!0)]))),128))]),a.allowed("aioseo_page_analysis")?(c(),l("div",wt,[n("p",xt,m(a.strings.serpPreview)+":",1),b(g,{url:s.tagsStore.liveTags.permalink,title:s.parseTags(s.postEditorStore.currentPost.title||s.postEditorStore.currentPost.tags.title||"#post_title #separator_sa #site_title"),description:s.parseTags(s.postEditorStore.currentPost.description||s.postEditorStore.currentPost.tags.description||"#post_content")},null,8,["url","title","description"])])):f("",!0),a.allowed("aioseo_page_analysis")&&s.postEditorStore.currentPost.canonicalUrl?(c(),l("div",Et,[n("p",kt,[z(m(a.strings.canonicalUrl)+": ",1),n("span",{class:"edit",onClick:t[0]||(t[0]=d=>p.openSidebar("canonical"))},[b(u)])]),n("a",{href:s.sanitizeUrl(s.postEditorStore.currentPost.canonicalUrl),target:"_blank",rel:"noopener noreferrer"},[n("span",null,m(s.sanitizeUrl(s.postEditorStore.currentPost.canonicalUrl)),1),b(v)],8,At)])):f("",!0)])):f("",!0)}const B=_(vt,[["render",Ct]]),Tt={},Rt={width:"32",height:"32",fill:"none",class:"aioseo-facebook-rounded",xmlns:"http://www.w3.org/2000/svg"},It=n("circle",{cx:"16",cy:"16",r:"16",fill:"currentColor"},null,-1),Ot=n("path",{d:"M24 16c0-4.4-3.6-8-8-8s-8 3.6-8 8c0 4 2.9 7.3 6.7 7.9v-5.6h-2V16h2v-1.8c0-2 1.2-3.1 3-3.1.9 0 1.8.2 1.8.2v2h-1c-1 0-1.3.6-1.3 1.2V16h2.2l-.4 2.3h-1.9V24c4-.6 6.9-4 6.9-8z",fill:"#fff"},null,-1),Mt=[It,Ot];function Ut(e,t){return c(),l("svg",Rt,Mt)}const zt=_(Tt,[["render",Ut]]),Lt={},Vt={width:"32",height:"32",fill:"none",class:"aioseo-linkedin-rounded",xmlns:"http://www.w3.org/2000/svg"},Dt=n("circle",{cx:"16",cy:"16",r:"16",fill:"currentColor"},null,-1),$t=n("path",{d:"M11.6 24H8.2V13.3h3.4V24zM9.9 11.8C8.8 11.8 8 11 8 9.9 8 8.8 8.9 8 9.9 8c1.1 0 1.9.8 1.9 1.9 0 1.1-.8 1.9-1.9 1.9zM24 24h-3.4v-5.8c0-1.7-.7-2.2-1.7-2.2s-2 .8-2 2.3V24h-3.4V13.3h3.2v1.5c.3-.7 1.5-1.8 3.2-1.8 1.9 0 3.9 1.1 3.9 4.4V24h.2z",fill:"#fff"},null,-1),Nt=[Dt,$t];function Bt(e,t){return c(),l("svg",Vt,Nt)}const Ft=_(Lt,[["render",Bt]]),Kt={},Wt={width:"32",height:"32",fill:"none",class:"aioseo-pinterest-rounded",xmlns:"http://www.w3.org/2000/svg"},Zt=n("circle",{cx:"16",cy:"16",r:"16",fill:"currentColor"},null,-1),jt=n("path",{d:"M16.056 6.583c-5.312 0-9.658 4.346-9.658 9.658a9.581 9.581 0 005.795 8.813c0-.724 0-1.448.12-2.173.242-.845 1.207-5.312 1.207-5.312s-.362-.604-.362-1.57c0-1.448.846-2.535 1.811-2.535.845 0 1.328.604 1.328 1.45 0 .844-.603 2.172-.845 3.38-.241.965.483 1.81 1.57 1.81 1.81 0 3.018-2.293 3.018-5.19 0-2.174-1.449-3.743-3.984-3.743-2.898 0-4.709 2.173-4.709 4.587 0 .845.242 1.449.604 1.932.12.241.242.241.12.483 0 .12-.12.603-.24.724-.121.242-.242.362-.483.242-1.329-.604-1.932-2.053-1.932-3.743 0-2.777 2.294-6.036 6.881-6.036 3.743 0 6.157 2.656 6.157 5.553 0 3.743-2.052 6.64-5.19 6.64-1.087 0-2.053-.603-2.415-1.207 0 0-.604 2.173-.725 2.656a10.702 10.702 0 01-.966 2.052c.846.242 1.811.363 2.777.363 5.312 0 9.658-4.347 9.658-9.659.121-4.829-4.225-9.175-9.537-9.175z",fill:"#fff"},null,-1),Gt=[Zt,jt];function Ht(e,t){return c(),l("svg",Wt,Gt)}const Yt=_(Kt,[["render",Ht]]),F="all-in-one-seo-pack",qt={setup(){return{tagsStore:H()}},components:{SvgFacebookRounded:zt,SvgLinkedinRounded:Ft,SvgPinterestRounded:Yt,SvgIconTwitter:Me},data(){return{strings:{title:r("Get out the word!",F),description:r("Share your content on your favorite social media platforms to drive engagement and increase your SEO.",F)}}},computed:{socialNetworks(){return[{icon:"svg-icon-twitter",link:"https://x.com/share?url="},{icon:"svg-facebook-rounded",link:"https://www.facebook.com/sharer/sharer.php?u="},{icon:"svg-pinterest-rounded",link:"https://pinterest.com/pin/create/button/?url="},{icon:"svg-linkedin-rounded",link:"https://www.linkedin.com/shareArticle?url="}].map(e=>({...e,link:e.link+this.tagsStore.liveTags.permalink}))}}},Jt={key:0,class:"aioseo-post-publish"},Qt={class:"title"},Xt={class:"description"},eo={class:"links"},to=["href"];function oo(e,t,o,s,a,p){return s.tagsStore.liveTags.permalink?(c(),l("div",Jt,[n("h2",Qt,m(a.strings.title),1),n("p",Xt,m(a.strings.description),1),n("div",eo,[(c(!0),l(W,null,Z(p.socialNetworks,(u,g)=>(c(),l("a",{class:"link",target:"_blank",key:g,href:u.link},[(c(),j(G(u.icon)))],8,to))),128))])])):f("",!0)}const so=_(qt,[["render",oo]]);(function(e){var g,v,d,S,y,w,x,E,k,A,C,T,R,I,O,M;if(!ve()||!Ue()||!((v=(g=window.wp)==null?void 0:g.editor)!=null&&v.PluginDocumentSettingPanel)&&!((S=(d=window.wp)==null?void 0:d.editPost)!=null&&S.PluginDocumentSettingPanel))return;const t=((w=(y=window==null?void 0:window.wp)==null?void 0:y.editor)==null?void 0:w.PluginDocumentSettingPanel)||((E=(x=window.wp)==null?void 0:x.editPost)==null?void 0:E.PluginDocumentSettingPanel),o=((A=(k=window==null?void 0:window.wp)==null?void 0:k.editor)==null?void 0:A.PluginPrePublishPanel)||((T=(C=window.wp)==null?void 0:C.editPost)==null?void 0:T.PluginPrePublishPanel),s=((I=(R=window==null?void 0:window.wp)==null?void 0:R.editor)==null?void 0:I.PluginPostPublishPanel)||((M=(O=window.wp)==null?void 0:O.editPost)==null?void 0:M.PluginPostPublishPanel),a=e.plugins.registerPlugin;Y();const u=Se().aioseo.user;!u.capabilities.aioseo_page_analysis&&!u.capabilities.aioseo_page_general_settings&&!u.capabilities.aioseo_page_advanced_settings||a("aioseo-publish-panel",{render:()=>e.element.createElement(e.element.Fragment,{},e.element.createElement(t,{name:"aioseo-publish-panel",title:"AIOSEO",className:"aioseo-document-setting aioseo-seo-overview",icon:e.element.Fragment},e.element.createElement("div",{},e.element.createElement("div",{id:"aioseo-document-setting"}))),e.element.createElement(o,{title:["AIOSEO",":",e.element.createElement("span",{key:"scoreDescription",className:"editor-post-publish-panel__link"})],className:"aioseo-pre-publish aioseo-seo-overview",initialOpen:!0,icon:e.element.Fragment},e.element.createElement("div",{},e.element.createElement("div",{id:"aioseo-pre-publish"}))),e.element.createElement(s,{title:"AIOSEO",initialOpen:!0,icon:e.element.Fragment},e.element.createElement("div",{},e.element.createElement("div",{id:"aioseo-post-publish"}))))})})(window.wp);const K=e=>{let t=de({...e.component,name:"Standalone/PublishPanel"});return t=ue(t),t=pe(t),t=me(t),Y(t),t.mount("#"+e.id),window.addEventListener("load",()=>{ze(t,!1)}),t};window.aioseo.currentPost&&window.aioseo.currentPost.context==="post"&&[{id:"aioseo-pre-publish",component:B},{id:"aioseo-document-setting",component:B},{id:"aioseo-post-publish",component:so}].forEach(t=>{document.getElementById(t.id)?K(t):(Le("#"+t.id,N(t.id)),document.addEventListener("animationstart",function(o){N(t.id)===o.animationName&&K(t)},{passive:!0}))});
