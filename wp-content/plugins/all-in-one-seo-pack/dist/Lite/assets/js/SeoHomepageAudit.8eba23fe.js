import{G as Y}from"./constants.fe8bda37.js";import{n as B,u as N,a as j,q as J,c as F,j as K}from"./index.21ff19c6.js";import{C as G}from"./Card.ca14447d.js";import{g as E,x as T,o as t,c as m,l as b,b as p,a as n,t as _,H as h,G as Q,N as X,m as S,y as D,w as Z,f as C,k as $,u as e,J as ee,K as oe,v as se}from"./runtime-dom.esm-bundler.c4caba60.js";import{p as te}from"./popup.92105c51.js";import{u as I}from"./SeoSiteScore.27f85b41.js";import{g as V,a as re}from"./utils.c2c3e058.js";import{C as ne}from"./Blur.63f260fa.js";import{j as ae}from"./helpers.a0b389be.js";import{i as ie,_ as le}from"./iphone-frame.8d933d9e.js";import{C as ce}from"./DonutChart.36f89ed8.js";import{C as ue}from"./Index.1f7aaa0b.js";import{S as me}from"./Book.e03567fe.js";import{S as de}from"./Lab.8c2f5246.js";import"./translations.d159963e.js";import{_ as q}from"./_plugin-vue_export-helper.eefbdd86.js";import{_ as z,s as P}from"./default-i18n.20001971.js";import{u as pe}from"./ConnectStore.6172826b.js";import{C as _e}from"./Tooltip.e12834fc.js";import{u as ge}from"./vue-router.8d7f8ad9.js";import{C as he}from"./Tabs.646b9550.js";import{e as ye}from"./Caret.cc16468c.js";import{S as fe}from"./Refresh.a1c1c9a1.js";import{a as Se}from"./index.f3c7a985.js";import"./Slide.9bb3b45e.js";import"./params.af7ed354.js";import"./Information.efebd14c.js";import"./SchemaStore.e1c60a5d.js";import"./metabox.c14c3439.js";import"./cleanForSlug.cacc99d0.js";import"./toString.1e64e8a6.js";import"./contentHasAssets.e1428256.js";import"./_baseSet.ca702273.js";import"./regex.8a6101c0.js";import"./GoogleSearchPreview.bb846430.js";import"./Url.58e6efcb.js";import"./AnimatedNumber.f40bef48.js";import"./numbers.9fc174f3.js";import"./Loading.62cbc7c3.js";import"./SetupWizardStore.2f8477b8.js";import"./ProBadge.6c04ecdd.js";const M="all-in-one-seo-pack",ve={setup(A){const{errorObject:i,strings:o}=I({score:E(A.score)});return{analyzerStore:B(),rootStore:N(),composableStrings:o,errorObject:i,links:j,getAssetUrl:ae,iphoneFrame:ie}},components:{CoreDonutChart:ce,CoreSiteScore:ue,SvgBook:me,SvgDannieLab:de},props:{score:[Number,String],loading:Boolean,description:String,summary:{type:Object,default(){return{}}}},data(){return{strings:J({yourHomepageScore:z("Your Homepage Score:",M),goodResult:P(z("A very good score is between %1$s%3$d and %4$d%2$s.",M),"<strong>","</strong>",50,75),forBestResults:P(z("For best results, you should strive for %1$s%3$d and above%2$s.",M),"<strong>","</strong>",70),readUltimateSeoGuide:z("Read the Ultimate WordPress SEO Guide",M)},this.composableStrings)}},computed:{sortedParts(){return V({good:this.summary.good,warnings:this.summary.warnings,issues:this.summary.issues,total:this.summary.total})}}},ke={class:"aioseo-seo-analysis"},be={key:0,class:"seo-analysis-score"},Ce={key:1,class:"seo-analysis-description"},ze={key:0,class:"seo-analysis-homepage-url"},Te=["href"],Ae=["innerHTML"],Re=["innerHTML"],Le={class:"d-flex"},He=["href"],Oe={key:2,class:"seo-analysis-mobile-snapshot"},xe={class:"mobile-snapshot-image"},we=["src"],Me=["src"],Be={key:3,class:"seo-analysis-error"},Ee={class:"error-title"},Ne=["innerHTML"],De={class:"error-action-buttons"};function Ge(A,i,o,s,l,r){var y,f,L,H,O,x,w,g,R;const v=T("core-site-score"),d=T("core-donut-chart"),k=T("svg-book"),c=T("svg-dannie-lab"),a=T("base-button");return t(),m("div",ke,[s.analyzerStore.analyzeError?p("",!0):(t(),m("div",be,[o.loading?(t(),b(v,{key:0,loading:!0,score:parseInt(o.score),description:o.description,strokeWidth:1.75},null,8,["score","description"])):(t(),b(d,{key:1,parts:r.sortedParts,total:parseInt(o.score),label:o.description,maxTotal:"100",animatedNumber:!1,"is-label-colored":""},null,8,["parts","total","label"]))])),s.analyzerStore.analyzeError?p("",!0):(t(),m("div",Ce,[n("h2",null,_(l.strings.yourHomepageScore),1),(L=(f=(y=s.rootStore)==null?void 0:y.aioseo)==null?void 0:f.urls)!=null&&L.home?(t(),m("span",ze,[n("a",{target:"_blank",href:s.rootStore.aioseo.urls.home},_(s.rootStore.aioseo.urls.home),9,Te)])):p("",!0),n("div",{innerHTML:l.strings.goodResult},null,8,Ae),n("div",{innerHTML:l.strings.forBestResults},null,8,Re),n("div",Le,[h(k),n("a",{href:s.links.getDocUrl("ultimateGuide"),target:"_blank"},_(l.strings.readUltimateSeoGuide),9,He)])])),!s.analyzerStore.analyzeError&&((x=(O=(H=s.analyzerStore.homeResults)==null?void 0:H.results)==null?void 0:O.advanced)!=null&&x.mobileSnapshot)?(t(),m("div",Oe,[n("div",xe,[n("img",{class:"mobile-snapshot-image__frame",src:s.getAssetUrl(s.iphoneFrame),alt:"Mobile Snapshot iPhone Frame"},null,8,we),n("img",{class:"mobile-snapshot-image__content",alt:"Mobile Snapshot",src:(R=(g=(w=s.analyzerStore.homeResults)==null?void 0:w.results)==null?void 0:g.advanced)==null?void 0:R.mobileSnapshot},null,8,Me)])])):p("",!0),s.analyzerStore.analyzeError&&s.errorObject?(t(),m("div",Be,[h(c),n("p",Ee,_(l.strings.anErrorOccurred),1),n("p",{class:"error-description",innerHTML:s.errorObject.description},null,8,Ne),n("div",De,[(t(!0),m(Q,null,X(s.errorObject.buttons,(u,W)=>(t(),b(a,{key:W,type:u.type,tag:u.tag?u.tag:"button",target:"_blank",href:u.url?u.url:"",size:"medium",loading:(u==null?void 0:u.runAgain)&&s.analyzerStore.analyzing,onClick:Qe=>u!=null&&u.runAgain?s.analyzerStore.runSiteAnalyzer():""},{default:S(()=>[D(_(u.text),1)]),_:2},1032,["type","tag","href","loading","onClick"]))),128))])])):p("",!0)])}const U=q(ve,[["render",Ge]]),Pe={class:"aioseo-seo-site-score"},Ue={key:1,class:"aioseo-seo-site-score-cta"},je={__name:"Analyze",setup(A){const i=E(0),{connectWithAioseo:o,description:s,strings:l}=I({score:i}),r=B(),v=pe(),d=F(),k=N();Z(()=>r.homeResults.score,g=>{i.value=g});const c=C(()=>r.goodCount("homepage")),a=C(()=>r.recommendedCount("homepage")),y=C(()=>r.criticalCount("homepage")),f=C(()=>c.value+a.value+y.value),L=C(()=>({recommended:a.value,critical:y.value,good:c.value})),H=C(()=>V({good:c.value,warnings:a.value,issues:y.value,total:f.value})),O=g=>{te(g,o,600,630,!0,["token"],x,w)},x=g=>v.saveConnectToken(g.token),w=g=>{g&&r.runSiteAnalyzer()};return $(()=>{!r.homeResults.score&&d.internalOptions.internal.siteAnalysis.connectToken&&r.runSiteAnalyzer(),i.value=r.homeResults.score}),(g,R)=>(t(),m("div",Pe,[e(d).internalOptions.internal.siteAnalysis.connectToken?p("",!0):(t(),b(e(ne),{key:0},{default:S(()=>[h(e(U),{score:85,description:e(s)},null,8,["description"])]),_:1})),e(d).internalOptions.internal.siteAnalysis.connectToken?p("",!0):(t(),m("div",Ue,[n("a",{href:"#",onClick:R[0]||(R[0]=ee(u=>O(e(k).aioseo.urls.connect),["prevent"]))},_(e(o)),1),D(" "+_(e(l).toSeeYourSiteScore),1)])),e(d).internalOptions.internal.siteAnalysis.connectToken?(t(),b(e(U),{key:2,score:i.value,description:e(s),loading:e(r).analyzing,summary:L.value,parts:H.value},null,8,["score","description","loading","summary","parts"])):p("",!0)]))}},Fe={key:0,class:"loading-container"},Ie={key:1},Ve={class:"label"},qe={key:2},We={__name:"HomepageAuditTabList",setup(A){const i="all-in-one-seo-pack",o=B(),s=ge(),l=E(!1),r=C(()=>{var y;const c=re({error:o.homeResults.score?o.criticalCount("homepage"):0,warning:o.homeResults.score?o.recommendedCount("homepage"):0,good:o.homeResults.score?o.goodCount("homepage"):0}).filter(f=>0<f.analyze.count),a=(y=s==null?void 0:s.query)==null?void 0:y.tab;return a&&c.find(f=>f.slug===a)?o.changeHomepageAuditTab(a):c.length&&o.changeHomepageAuditTab(c[0].slug),c}),v={noResults:z("No results found.",i)};function d(k){l.value||(l.value=!0,o.changeHomepageAuditTab(k),setTimeout(()=>{l.value=!1},50))}return(k,c)=>e(o).analyzing?(t(),m("div",Fe,[h(e(ye),{dark:""})])):(t(),m("div",Ie,[r.value.length?(t(),b(e(he),{key:0,tabs:r.value,showSaveButton:!1,active:e(o).homepageAudit.activeTab,internal:"",onChanged:d,"skinny-tabs":""},{"var-tab":S(({tab:a})=>[n("span",{class:oe(["icon",a.analyze.classColor])},[(t(),b(se(a.icon)))],2),n("span",Ve,_(a.label)+" ("+_(a.analyze.count||0)+")",1)]),_:1},8,["tabs","active"])):p("",!0),e(o).homeResults.results&&r.value.length?(t(),b(e(le),{key:1,section:e(o).homepageAudit.activeTab,"all-results":e(o).homeResults.results,"show-instructions":""},null,8,["section","all-results"])):p("",!0),r.value.length?p("",!0):(t(),m("div",qe,[n("span",null,_(v.noResults),1)]))]))}},Ye=q(We,[["__scopeId","data-v-db3edc20"]]),Je={class:"aioseo-seo-audit-checklist"},Ke=["innerHTML"],Po={__name:"SeoHomepageAudit",setup(A){const i="all-in-one-seo-pack",o=B(),s=K(),l=F(),r=N(),v=E(!1),d={completeSeoChecklist:z("Complete SEO Checklist",i),refreshResults:z("Refresh Results",i),cardDescription:z("These are the results our SEO Analzyer has generated after analyzing the homepage of your website.",i)+" "+j.getDocLink(Y.learnMore,"seoAnalyzer",!0)},k=C(()=>!s.isUnlicensed||r.aioseo.data.isNetworkLicensed);async function c(){v.value=!0,await o.runSiteAnalyzer({refresh:!0}),v.value=!1}return(a,y)=>{const f=T("base-button");return t(),m("div",Je,[h(e(G),{slug:"connectOrScore","hide-header":"","no-slide":"",toggles:!1},{default:S(()=>[h(e(je))]),_:1}),(k.value||e(l).internalOptions.internal.siteAnalysis.connectToken)&&!e(o).analyzeError&&e(o).homeResults.score&&!e(o).analyzing?(t(),b(e(G),{key:0,slug:"completeSeoChecklist","no-slide":"",toggles:!1},{header:S(()=>[n("span",null,_(d.completeSeoChecklist),1),h(e(_e),null,{tooltip:S(()=>[n("span",{innerHTML:d.cardDescription},null,8,Ke)]),default:S(()=>[h(e(Se))]),_:1})]),"header-extra":S(()=>[h(f,{class:"refresh-results",type:"gray",size:"small",onClick:c,loading:v.value},{default:S(()=>[h(e(fe)),D(" "+_(d.refreshResults),1)]),_:1},8,["loading"])]),default:S(()=>[h(e(Ye))]),_:1})):p("",!0)])}}};export{Po as default};
